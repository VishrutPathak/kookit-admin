import{u as x,r as c,a as g,j as s}from"./index-DyF85uUZ.js";function b(){const{user:l,updatePassword:i,logout:d}=x(),[e,n]=c.useState(""),[r,a]=c.useState(""),m=g(),u=t=>{if(t.preventDefault(),!e)return a("Enter a new password");const o=i(e);o.ok?(a("Password updated locally."),n("")):a(o.message||"Error updating password")},h=()=>{window.confirm("Are you sure you want to log out?")&&(d(),m("/login"))};return s.jsxs("div",{className:"container-fluid",children:[s.jsx("h3",{className:"mb-3",children:"Settings"}),s.jsx("div",{className:"card shadow-sm mb-4",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h6",{children:"Admin Account"}),s.jsxs("p",{className:"mb-2",children:[s.jsx("strong",{children:"Username:"})," ",l?.username]}),s.jsxs("form",{onSubmit:u,className:"row g-2 align-items-center",children:[s.jsx("div",{className:"col-auto",style:{minWidth:300},children:s.jsx("input",{className:"form-control",type:"password",placeholder:"New password",value:e,onChange:t=>n(t.target.value)})}),s.jsx("div",{className:"col-auto",children:s.jsx("button",{className:"btn btn-success",children:"Change Password"})})]}),r&&s.jsx("div",{className:"mt-3 alert alert-success py-2 mb-0",children:r})]})}),s.jsx("div",{className:"card shadow-sm",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h6",{children:"Session"}),s.jsx("p",{className:"mb-2 text-muted small",children:"Click below to securely end your admin session."}),s.jsxs("button",{className:"btn btn-danger",onClick:h,children:[s.jsx("i",{className:"bi bi-box-arrow-right me-2"}),"Logout"]})]})})]})}export{b as default};
