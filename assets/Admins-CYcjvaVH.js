import{r as m,l as b,b as n,j as s,c as y,s as h}from"./index-4xmnvLmg.js";function N(){const[t,r]=m.useState([]);m.useEffect(()=>{try{const i=b("kookit_admins",null)?.admins,a=n?.admins,c=n?.admin,o=n&&!Array.isArray(n)&&n.id?[n]:null,u=Array.isArray(i)?i:Array.isArray(a)?a:Array.isArray(c)?c:Array.isArray(o)?o:[];r(u)}catch(e){console.error("Failed to load admins:",e),r([])}},[]);const d=e=>{r(e),h("kookit_admins",{admins:e})},x=()=>{const e=prompt("Name"),i=prompt("Username (email)");if(!e||!i)return;const a={id:y("a"),name:e,username:i,role:"admin",lastLogin:null};d([a,...t])},j=e=>{confirm("Delete admin?")&&d(t.filter(i=>i.id!==e))},l=Array.isArray(t)?t:[],A=()=>{const e=n?.admins??n?.admin??(n?.id?[n]:[]);h("kookit_admins",{admins:e}),r(Array.isArray(e)?e:[])};return s.jsxs("div",{className:"container-fluid",children:[s.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[s.jsx("h3",{children:"Admins"}),s.jsxs("div",{children:[s.jsx("button",{className:"btn btn-primary me-2",onClick:x,children:"Add Admin"}),s.jsx("button",{className:"btn btn-outline-secondary",onClick:A,children:"Reset"})]})]}),s.jsx("div",{className:"card shadow-sm",children:s.jsx("div",{className:"card-body table-responsive",children:s.jsxs("table",{className:"table table-sm align-middle",children:[s.jsx("thead",{className:"table-light",children:s.jsxs("tr",{children:[s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Username"}),s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Last Login"}),s.jsx("th",{})]})}),s.jsx("tbody",{children:l.length>0?l.map(e=>s.jsxs("tr",{children:[s.jsx("td",{children:e.name}),s.jsx("td",{children:e.username}),s.jsx("td",{children:e.role??"admin"}),s.jsx("td",{children:e.lastLogin?new Date(e.lastLogin).toLocaleString():"-"}),s.jsx("td",{className:"text-end",children:s.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>j(e.id),children:"Delete"})})]},e.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:"5",className:"text-center text-muted",children:"No admins"})})})]})})})]})}export{N as default};
